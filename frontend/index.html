<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XYZ Vehicle Insurance</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   

<style>
  .logo {
    width: 60px; /* Adjust size */
    display: block;
    margin: 0px; /* Center it */
  }
</style>


    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo-container">
            <img class="logo" src="abc_logo.png" alt="Vaahaan Insurance Logo">
            <div class="brand-name">Vaahaan Insurance</div>
        </div>
        <ul id="navLinks">
            <li><a href="index.html">Home</a></li>
            <li><a href="#" onclick="redirectToQuote()">Plans</a></li>
            <li><a href="#">Testimonials</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="claimForm.html">Claim</a></li>
            <li id="signup"><a href="register.html" class="btn-primary">Sign Up</a></li>
            <li id="login"><a href="login.html" class="btn-secondary">Login</a></li>
            <li id="account" style="display: none;"><a href="dashboard.html" class="btn-primary">Account</a></li>
            <li id="logout" style="display: none;"><a href="#" class="btn-secondary" onclick="logout()">Logout</a></li>
        </ul>
    </nav>
    

    <!-- Hero Section -->
    <header>
        <div class="hero-content">
            <h1>Secure Your Vehicle with <span>XYZ Insurance</span></h1>
            <p>Get the best coverage for your car, bike, or truck ‚Äì hassle-free claims, affordable plans, and instant support.</p>
            <a onclick="redirectToQuote()" class="btn-cta">Get a Quote</a>
        </div>
    </header>

    <!-- About Us Section -->
<section class="about">
    <div class="about-content">
        <h2>About Us</h2>
        <p>We are committed to providing top-quality services with a focus on customer satisfaction, innovation, and trust.</p>
    </div>

    <div class="about-grid">
        <!-- Card 1 -->
        <div class="about-card">
            <h3>Our Mission</h3>
            <p>Deliver high-quality services that meet client expectations and foster long-term relationships.</p>
        </div>

        <!-- Card 2 -->
        <div class="about-card">
            <h3>Our Vision</h3>
            <p>To be a leading provider in our industry by constantly innovating and improving.</p>
        </div>

        <!-- Card 3 -->
        <div class="about-card">
            <h3>Why Choose Us?</h3>
            <p>We prioritize customer needs, maintain transparency, and ensure the best quality services.</p>
        </div>
    </div>
</section>

    <!-- Why Choose Us -->
    <section class="features">
        <h2>Why Choose XYZ Insurance?</h2>
        <div class="feature-cards">
            <div class="card">
                <h3>üïí 24/7 Support</h3>
                <p>We‚Äôre always here when you need us.</p>
            </div>
            <div class="card">
                <h3>üí∞ Affordable Plans</h3>
                <p>Choose from budget-friendly options.</p>
            </div>
            <div class="card">
                <h3>‚ö° Quick Claims</h3>
                <p>Fast, hassle-free claims with easy processing.</p>
            </div>
        </div>
    </section>


    

    <!-- Insurance Plans -->
    <section class="plans">
        <h2>Our Insurance Plans</h2>
        <div class="plan-cards">
            <div class="card">
                <h3>üöó Basic Plan</h3>
                <p>Third-party liability coverage</p>
                <button class="btn-primary" onclick="redirectToQuote()">Get Quote</button>
            </div>
            <div class="card">
                <h3>üèçÔ∏è Standard Plan</h3>
                <p>Includes theft & fire protection</p>
                <button class="btn-primary" onclick="redirectToQuote()">Get Quote</button>
            </div>
            <div class="card">
                <h3>üöõ Premium Plan</h3>
                <p>Full coverage for all damages</p>
                <button class="btn-primary" onclick="redirectToQuote()">Get Quote</button>
            </div>
        </div>
    </section>


    <section class="claim">
        <h2>File Your Insurance Claim</h2>
        <p>Quick and hassle-free claim process. Submit your details and track your claim status easily.</p>
        <a href="claimForm.html" class="claim-btn">File a Claim</a>
    </section>
    
    <!-- Testimonials -->
    <section class="testimonials">
        <h2>What Our Customers Say</h2>
        <div class="testimonial-cards">
            <div class="card">
                <p>"XYZ Insurance made my claim process seamless. Highly recommend!"</p>
                <h4>- John Doe</h4>
            </div>
            <div class="card">
                <p>"Best insurance experience. Affordable & reliable!"</p>
                <h4>- Jane Smith</h4>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta">
        <h2>Ready to Secure Your Vehicle?</h2>
        <a onclick="redirectToQuote()" class="btn-cta">Get Insured Now</a>
    </section>

    <!-- Footer -->
    <footer>
        <p>¬© 2025 Vaahaan Insurance | All Rights Reserved</p>
    </footer>

    <script>
    let isLoggedIn = false;
    document.addEventListener("DOMContentLoaded", async function () {
        
        try {
            const response = await fetch("http://localhost:5000/api/auth/me", {
                method: "GET",
                credentials: "include", // Send cookies with request
            });
    
            if (response.ok) {
                const user = await response.json();
                isLoggedIn = true;
               // console.log("Auth response:", data); // ‚úÖ Log API response
                // Hide login/signup, show account/logout
                document.getElementById("signup").style.display = "none";
                document.getElementById("login").style.display = "none";
                document.getElementById("account").style.display = "inline";
                document.getElementById("logout").style.display = "inline";
            } else {
                isLoggedIn= false;
                // Show login/signup if user is NOT authenticated
                document.getElementById("signup").style.display = "inline";
                document.getElementById("login").style.display = "inline";
                document.getElementById("account").style.display = "none";
                document.getElementById("logout").style.display = "none";
            }
           
        } catch (error) {
            console.error("Error fetching user:", error);
        }
    });
    function redirectToQuote() {
            if (isLoggedIn) {
                window.location.href = "plan.html";
            } else {
                window.location.href = "login.html";
            }
        }
    </script>
    <script src="script.js"></script>
    
</body>
</html>
